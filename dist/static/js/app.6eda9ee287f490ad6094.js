webpackJsonp([1],{"0qLY":function(t,e){},"23xO":function(t,e){},"6Na7":function(t,e){},"6VCv":function(t,e){},"6gZW":function(t,e){},"9gHd":function(t,e,i){"use strict";var n=i("f0fK"),a=i.n(n),s=i("hpX8"),r=function(t){i("6Na7")},o=i("VU/8")(a.a,s.a,!1,r,"data-v-17044e0a",null);e.default=o.exports},BN8A:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},s=i("VU/8")({name:"app"},a,!1,function(t){i("VKHL")},null,null).exports,r=i("/ocq"),o=i("Dd8w"),c=i.n(o),h=i("ifoU"),l=new(i.n(h).a)([["unknow","#icon-icon-test22"],["wind","#icon-icon-test21"],["tornado","#icon-icon-test20"],["gale","#icon-icon-test19"],["hurricane","#icon-icon-test18"],["fogHaze","#icon-icon-test17"],["fog","#icon-icon-test16"],["heavySnow","#icon-icon-test15"],["sandStorm","#icon-icon-test14"],["upDown","#icon-icon-test13"],["greatSnow","#icon-icon-test12"],["sleet","#icon-icon-test11"],["moderateSnow","#icon-icon-test10"],["lightSnow","#icon-icon-test9"],["rainStorm","#icon-icon-test8"],["extraordinaryStorm","#icon-icon-test7"],["iceRain","#icon-icon-test6"],["thunderRain","#icon-icon-test5"],["heavyRain","#icon-icon-test4"],["lightRain","#icon-icon-test3"],["moderateRain","#icon-icon-test2"],["cloudy","#icon-icon-test1"],["overcast","#icon-icon-test"],["sun","#icon-sun"]]),u=i("NYxO"),d={name:"m-header",computed:c()({},Object(u.b)({city:function(t){return t.city}})),created:function(){this.getLocation()},methods:{getLocation:function(){var t=this;new qq.maps.Geolocation("M2PBZ-YD5WW-JQJRM-RSYLJ-7J4LF-TZFRW","vue-weather").getLocation(function(e){var i=e.city.slice(0,e.city.length-1);t.$store.commit("setCity",i)},function(){t.$store.commit("setCity","定位失败"),t.$store.commit("setBoxIsOpen",!0)})},openDrawer:function(){this.$store.commit("reverseNavIsOpen"),document.body.style.overflow="hidden"}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header-container"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true",id:"icon-fenlei"},on:{click:this.openDrawer}},[e("use",{attrs:{"xlink:href":"#icon-fenlei"}})]),this._v(" "),e("div",{attrs:{id:"center-container"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true",id:"icon-daohang"}},[e("use",{attrs:{"xlink:href":"#icon-daohang"}})]),this._v(" "),e("span",{attrs:{id:"city-name"}},[this._v(this._s(this.city))])]),this._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true",id:"icon-fenxiang"}},[e("use",{attrs:{"xlink:href":"#icon-fenxiang"}})])])},staticRenderFns:[]},m=i("VU/8")(d,w,!1,function(t){i("W+wy")},"data-v-4eccc07e",null).exports,v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isOpen,expression:"isOpen"}],attrs:{id:"main-container"}},[e("div",{attrs:{id:"message-container"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true",id:"icon"}},[e("use",{attrs:{"xlink:href":"#icon-icon-c-question"}})]),this._v(" "),e("p",{attrs:{id:"slot-content"}},[this._v("定位失败，是否手动选择城市？")]),this._v(" "),e("div",{attrs:{id:"bt-cancel"},on:{click:this.cancel}},[this._v("取消")]),this._v(" "),e("div",{attrs:{id:"bt-confirm"},on:{click:this.confirm}},[this._v("确定")])])])])},staticRenderFns:[]},p=i("VU/8")({name:"m-messagebox",props:["isOpen"],data:function(){return{}},methods:{cancel:function(){this.$emit("messageBoxResult",!1)},confirm:function(){this.$emit("messageBoxResult",!0)}}},v,!1,function(t){i("6gZW")},"data-v-5cc85781",null).exports,y=i("mvHQ"),f=i.n(y),C=new n.a,g={data:function(){return{isClick:!1,cityArray:["自动定位","北京","上海","广州","深圳","武汉","南京","杭州","西安","郑州","成都","东莞","沈阳","天津","重庆","哈尔滨","长沙","福州","厦门","石家庄","苏州","无锡","济南","大连","佛山","南昌","太原","长春","合肥","南宁","青岛","汕头","昆明","海定"],selectedCityArray:[],isTouchStart:!1,inputCity:""}},watch:{isClick:function(){C.$emit("inputIsClick",this.isClick)}},mounted:function(){this.configLocalStorage()},methods:{onEnter:function(){this.isClick=!1,this.$store.commit("setCity",this.inputCity),document.body.style.overflow="auto",document.body.style.overflowX="hidden",this.$store.commit("reverseNavIsOpen");var t=this.cityArray.indexOf(this.inputCity);-1!=t?(document.getElementById("city"+t).style.color="red",this.selectedCityArray.push({id:t,city:this.inputCity})):this.selectedCityArray.push({city:this.inputCity}),this.inputCity=""},selectCity:function(t,e){this.isClick=!1,this.$store.commit("setCity",this.cityArray[t]),document.body.style.overflow="auto",document.body.style.overflowX="hidden",this.$store.commit("reverseNavIsOpen");for(var i=!1,n=0;n<this.selectedCityArray.length;++n)this.selectedCityArray[n].id==t&&(i=!0);i||this.selectedCityArray.push({id:t,target:e.currentTarget,city:this.cityArray[t]}),e.currentTarget.style.color="red"},configLocalStorage:function(){var t=this,e=window.localStorage.getItem("selectedCityArray");if(null!=e){this.selectedCityArray=JSON.parse(e);for(var i=0;i<this.selectedCityArray.length;++i)document.getElementById("city"+this.selectedCityArray[i].id).style.color="red"}window.addEventListener("beforeunload",function(){window.localStorage.setItem("selectedCityArray",f()(t.selectedCityArray))})}},directives:{touchlight:{inserted:function(t,e){t.addEventListener("touchstart",function(){t.style.backgroundColor="rgba(22, 144, 206, 0.62)",t.style.color="white"}),t.addEventListener("touchend",function(){t.style.backgroundColor="white",t.style.color="black"})}}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-container",class:{move:t.isClick}},[i("div",{staticClass:"input-container",on:{click:function(e){t.isClick=!0}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputCity,expression:"inputCity"}],staticClass:"input",attrs:{placeholder:"请输入城市"},domProps:{value:t.inputCity},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onEnter(e)},input:function(e){e.target.composing||(t.inputCity=e.target.value)}}}),t._v(" "),i("span",{staticClass:"bar"}),t._v(" "),i("svg",{staticClass:"icon",class:{rotate:t.isClick},attrs:{"aria-hidden":"true"},on:{click:function(e){e.stopPropagation(),t.isClick=!1}}},[i("use",{attrs:{"xlink:href":"#icon-zhankai"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isClick,expression:"isClick"}],staticClass:"city-container"},t._l(t.cityArray,function(e,n){return i("span",{directives:[{name:"touchlight",rawName:"v-touchlight"}],staticClass:"city",attrs:{id:"city"+n},on:{click:function(e){t.selectCity(n,e)}}},[t._v(t._s(e))])}))])},staticRenderFns:[]},b=i("VU/8")(g,_,!1,function(t){i("b3Ug")},"data-v-4ef1b9b9",null).exports,N={props:["nowWeather"],name:"m-weathericon",data:function(){return{iconName:"#icon-icon-test22"}},watch:{nowWeather:function(){this.switchWeather(this.nowWeather)}},mounted:function(){this.switchWeather(this.nowWeather)},methods:{switchWeather:function(t){switch(t){case"晴":this.iconName=l.get("sun");break;case"小雨":this.iconName=l.get("lightRain");break;case"雷阵雨":case"阵雨":this.iconName=l.get("thunderRain");break;case"中雨":this.iconName=l.get("moderateRain");break;case"大雨":this.iconName=l.get("heavyRain");break;case"暴雨":this.iconName=l.get("rainStorm");break;case"阴":this.iconName=l.get("overcast");break;case"多云":this.iconName=l.get("cloudy");break;case"霾":this.iconName=l.get("fogHaze");break;case"雾":this.iconName=l.get("fog");break;case"小雪":this.iconName=l.get("lightSnow");break;case"中雪":this.iconName=l.get("moderateSnow");break;case"大雪":this.iconName=l.get("greatSnow");break;case"暴雪":this.iconName=l.get("heavySnow");break;case"雨夹雪":this.iconName=l.get("sleet");break;default:this.iconName=l.get("unknow")}}}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.iconName}})])])},staticRenderFns:[]},k=i("VU/8")(N,T,!1,function(t){i("Q4mb")},null,null).exports,A={data:function(){return{selectedCityContent:[]}},components:{MWeathericon:k,"m-weathericon":k},created:function(){var t=this;C.$on("selectedCityContent",function(e){t.selectedCityContent=e})},methods:{selectCity:function(t){console.log("click"),this.$store.commit("setCity",t),document.body.style.overflow="auto",document.body.style.overflowX="hidden",this.$store.commit("reverseNavIsOpen")}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._l(t.selectedCityContent,function(e){return[i("div",{on:{click:function(i){t.selectCity(e.city)}}},[i("span",{staticClass:"left"},[t._v(t._s(e.city))]),t._v(" "),i("span",{staticClass:"right"},[t._v(t._s(e.nowTemp))]),t._v(" "),i("m-weathericon",{staticClass:"center",attrs:{nowWeather:e.weatherNow}})],1)]})],2)},staticRenderFns:[]},S={name:"m-navbar",components:{"m-input":b,"m-selectedcitylist":i("VU/8")(A,x,!1,function(t){i("sSjs")},"data-v-77af1eb0",null).exports},computed:c()({},Object(u.b)({navIsOpen:function(t){return t.navIsOpen}})),data:function(){return{inputIsClick:!1}},methods:{closeDrawer:function(){this.$store.commit("reverseNavIsOpen"),document.body.style.overflow="auto",document.body.style.overflowX="hidden"}},created:function(){var t=this;C.$on("inputIsClick",function(e){t.inputIsClick=e})}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{open:this.navIsOpen,close:!this.navIsOpen},attrs:{id:"nav-container"}},[e("div",{attrs:{id:"back-container"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true",id:"icon-daohang"},on:{click:this.closeDrawer}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),this._v(" "),e("div",{attrs:{id:"content-container"}},[e("m-input",{staticClass:"m-input"}),this._v(" "),e("m-selectedcitylist",{directives:[{name:"show",rawName:"v-show",value:!this.inputIsClick,expression:"!inputIsClick"}],staticClass:"m-list"})],1)])},staticRenderFns:[]},W=i("VU/8")(S,I,!1,function(t){i("TWPv")},"data-v-1e762d8c",null).exports,D=i("9gHd"),O=i("mtWM"),L=i.n(O);L.a.defaults.timeout=5e3,L.a.defaults.baseURL="http://115.159.147.190:3002/api/";var $=function(t){return L.a.get("getSixDayWeather?city="+t)},R={components:{"m-weathericon":k},props:["weatherIconArray","weatherTempArray"],data:function(){return{}}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ul",{staticClass:"hourweather-container"},[e("li",[e("div",{staticClass:"container"},[e("p",[this._v("上午")]),this._v(" "),e("m-weathericon",{staticClass:"hour-weather-icon",attrs:{nowWeather:this.weatherIconArray[0]}}),this._v(" "),e("p",[this._v(this._s(this.weatherTempArray[0]))])],1)]),this._v(" "),e("li",[e("div",{staticClass:"container"},[e("p",[this._v("下午")]),this._v(" "),e("m-weathericon",{staticClass:"hour-weather-icon",attrs:{nowWeather:this.weatherIconArray[1]}}),this._v(" "),e("p",[this._v(this._s(this.weatherTempArray[1]))])],1)]),this._v(" "),e("li",[e("div",{staticClass:"container"},[e("p",[this._v("前半夜")]),this._v(" "),e("m-weathericon",{staticClass:"hour-weather-icon",attrs:{nowWeather:this.weatherIconArray[2]}}),this._v(" "),e("p",[this._v(this._s(this.weatherTempArray[2]))])],1)]),this._v(" "),e("li",[e("div",{staticClass:"container"},[e("p",[this._v("后半夜")]),this._v(" "),e("m-weathericon",{staticClass:"hour-weather-icon",attrs:{nowWeather:this.weatherIconArray[3]}}),this._v(" "),e("p",[this._v(this._s(this.weatherTempArray[3]))])],1)])])])},staticRenderFns:[]},U=i("VU/8")(R,E,!1,function(t){i("0qLY")},"data-v-73742fab",null).exports,V={props:["weatherListArray"],components:{"m-weathericon":k}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-container"},[i("ul",[t._l(t.weatherListArray,function(e){return[i("li",[i("span",{staticClass:"left"},[t._v(t._s(e.day))]),t._v(" "),i("m-weathericon",{staticClass:"icon",attrs:{nowWeather:e.nowWeather}}),t._v(" "),i("span",{staticClass:"right"},[t._v(t._s(e.nowTemp))])],1)]})],2)])},staticRenderFns:[]},F=i("VU/8")(V,B,!1,function(t){i("6VCv")},"data-v-13c9c604",null).exports,H={data:function(){return{nowTemp:"0°",ACI:"44",nowDay:"",nowWeather:"",nowWind:"",weatherNow:"",weatherIconArray:[],weatherTempArray:[],weatherListArray:[],selectedCityContent:[],cityList:[]}},computed:c()({},Object(u.b)({boxIsOpen:function(t){return t.boxIsOpen},navIsOpen:function(t){return t.navIsOpen},city:function(t){return t.city}})),components:{"m-header":m,"m-messagebox":p,"m-navbar":W,"m-aci":D.default,"m-weathericon":k,"m-hourweather":U,"m-sixweatherlist":F},mounted:function(){this.getNowDay(),this.configLocalStorage()},watch:{city:function(){this.getSixDayWeather(this.city)},selectedCityContent:function(){for(var t=0;t<this.selectedCityContent.length;++t){for(var e=!1,i=0;i<this.cityList.length;++i)this.cityList[i]==this.selectedCityContent[t].city&&(e=!0);1!=e&&this.cityList.push(this.selectedCityContent[t].city)}}},methods:{clickMenu:function(){this.$store.commit("reverseNavIsOpen"),document.body.style.overflow="auto",document.body.style.overflowX="hidden"},messageBoxResult:function(t){this.$store.commit("setBoxIsOpen",!1),t&&(this.$store.commit("reverseNavIsOpen"),this.$store.commit("reverseBoxIsOpen"))},getNowDay:function(){var t=new Date;this.nowDay=t.getMonth()+1+"/"+t.getDate()},configLocalStorage:function(){var t=window.localStorage.getItem("selectedCityArray");if(null!=t)for(var e=JSON.parse(t),i=0;i<e.length;++i)this.getWeatherContent(e[i].city)},getNowWeekday:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(new Date).getDay();switch((e+=t)>6&&(e-=7),e){case 0:return"星期天";case 1:return"星期一";case 2:return"星期二";case 3:return"星期三";case 4:return"星期四";case 5:return"星期五";case 6:return"星期六"}},getWeatherContent:function(t){var e=this;$(t).then(function(i){var n=i.data;e.selectedCityContent.push({city:t,nowTemp:n.NewDataSet.Table1.tempNow+"°",weatherNow:n.NewDataSet.Table1.weatherNow})})},getSixDayWeather:function(t){var e=this;$(t).then(function(i){var n=i.data,a=!1;e.weatherIconArray.length=0,e.weatherTempArray.length=0,e.weatherListArray.length=0,e.nowTemp=n.NewDataSet.Table1.tempNow+"°",e.ACI=n.NewDataSet.Table1.AQIData,e.nowWeather=n.NewDataSet.Table1.temp1+"  "+n.NewDataSet.Table1.weatherNow,e.nowWind=n.NewDataSet.Table1.winNow,e.weatherNow=n.NewDataSet.Table1.weatherNow,e.weatherIconArray.push(n.NewDataSet.Table2.sixweather1),e.weatherIconArray.push(n.NewDataSet.Table2.sixweather2),e.weatherIconArray.push(n.NewDataSet.Table2.sixweather3),e.weatherIconArray.push(n.NewDataSet.Table2.sixweather4),e.weatherTempArray.push(n.NewDataSet.Table2.highTemp1+"/"+n.NewDataSet.Table2.lowTemp1),e.weatherTempArray.push(n.NewDataSet.Table2.highTemp2+"/"+n.NewDataSet.Table2.lowTemp2),e.weatherTempArray.push(n.NewDataSet.Table2.highTemp3+"/"+n.NewDataSet.Table2.lowTemp3),e.weatherTempArray.push(n.NewDataSet.Table2.highTemp4+"/"+n.NewDataSet.Table2.lowTemp4);for(var s=0;s<e.selectedCityContent.length;++s)t==e.selectedCityContent[s].city&&(a=!0);0==a&&e.selectedCityContent.push({city:t,nowTemp:n.NewDataSet.Table1.tempNow+"°",weatherNow:n.NewDataSet.Table1.weatherNow}),C.$emit("selectedCityContent",e.selectedCityContent),e.weatherListArray.push({day:e.getNowWeekday(1),nowWeather:n.NewDataSet.Table1.weather2,nowTemp:n.NewDataSet.Table1.temp2}),e.weatherListArray.push({day:e.getNowWeekday(2),nowWeather:n.NewDataSet.Table1.weather3,nowTemp:n.NewDataSet.Table1.temp3}),e.weatherListArray.push({day:e.getNowWeekday(3),nowWeather:n.NewDataSet.Table1.weather4,nowTemp:n.NewDataSet.Table1.temp4}),e.weatherListArray.push({day:e.getNowWeekday(4),nowWeather:n.NewDataSet.Table1.weather5,nowTemp:n.NewDataSet.Table1.temp5}),e.weatherListArray.push({day:e.getNowWeekday(5),nowWeather:n.NewDataSet.Table1.weather6,nowTemp:n.NewDataSet.Table1.temp6})})}}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"main-container"}},[e("m-header"),this._v(" "),e("m-navbar"),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.navIsOpen,expression:"navIsOpen"}],staticClass:"menu-mask",on:{click:this.clickMenu}}),this._v(" "),e("m-messagebox",{attrs:{isOpen:this.boxIsOpen},on:{messageBoxResult:this.messageBoxResult}}),this._v(" "),e("div",{attrs:{id:"now_weather_content"}},[e("div",{attrs:{id:"left_content"}},[e("p",{attrs:{id:"now_temp"}},[this._v(this._s(this.nowTemp))]),this._v(" "),e("m-aci",{attrs:{id:"ACI"}},[this._v(this._s(this.ACI))])],1),this._v(" "),e("div",{attrs:{id:"right_content"}},[e("p",[this._v(this._s(this.nowDay))]),this._v(" "),e("p",[this._v(this._s(this.nowWeather))]),this._v(" "),e("p",[this._v(this._s(this.nowWind))])])]),this._v(" "),e("m-weathericon",{attrs:{nowWeather:this.weatherNow,id:"m-weathericon"}}),this._v(" "),e("m-hourweather",{attrs:{weatherIconArray:this.weatherIconArray,weatherTempArray:this.weatherTempArray}}),this._v(" "),e("m-sixweatherlist",{attrs:{weatherListArray:this.weatherListArray}})],1)},staticRenderFns:[]},J=i("VU/8")(H,M,!1,function(t){i("BN8A")},"data-v-e3ac08fe",null).exports,X={components:{"m-weathericon":k,"m-aci":D.default,"m-sixweatherlist":F,"m-input":b},data:function(){return{top:"30",nowWeather:"晴",weatherListArray:[{day:"星期二",nowWeather:"晴",nowTemp:"32  25"},{day:"星期二",nowWeather:"晴",nowTemp:"32  25"},{day:"星期二",nowWeather:"晴",nowTemp:"32  25"},{day:"星期二",nowWeather:"晴",nowTemp:"32  25"}]}},methods:{getSixDayWeather:function(){$("杭州").then(function(t){})}}},j={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("button",{on:{click:this.getSixDayWeather}}),this._v(" "),e("m-weathericon",{attrs:{id:"m-weathericon",nowWeather:this.nowWeather}}),this._v(" "),e("m-input")],1)},staticRenderFns:[]},q=i("VU/8")(X,j,!1,function(t){i("23xO")},null,null).exports;n.a.use(r.a);var P=new r.a({routes:[{path:"/",name:"Main",component:J},{path:"/test",name:"test",component:q}]});n.a.use(u.a);var Q=new u.a.Store({state:{boxIsOpen:!1,navIsOpen:!1,city:""},mutations:{setCity:function(t,e){t.city=e},setBoxIsOpen:function(t,e){t.boxIsOpen=e},reverseNavIsOpen:function(t,e){t.navIsOpen=!t.navIsOpen},reverseBoxIsOpen:function(t){t.boxIsOpen=!t.boxIsOpen}}});n.a.config.productionTip=!1,new n.a({el:"#app",router:P,store:Q,template:"<App/>",components:{App:s}})},Q4mb:function(t,e){},TWPv:function(t,e){},VKHL:function(t,e){},"W+wy":function(t,e){},b3Ug:function(t,e){},f0fK:function(t,e){},hpX8:function(t,e,i){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ACI_container"},[e("p",[this._v("ACI")]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};e.a=n},sSjs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6eda9ee287f490ad6094.js.map